(t=>{"use strict";const[e,i]=document.currentScript.src.replace("scripts.js","").split("?ver="),l={language:tbLocalScript.addons.timeline.lng,script_path:e+"timeline"},s=t=>{t.classList.remove("tf_lazy","tf_hidden")};t.on("builder_load_module_partial",((n,o)=>{if(!0===o&&!n.classList.contains("module-timeline"))return;const r=t.selectWithParent("module-timeline",n),m=[];for(let l=r.length-1;l>-1;--l){let n=r[l],o=n.classList;o.contains("layout-list")?t.loadCss(e+"style","tb_timeline",i).then((()=>{s(n)})):o.contains("layout-graph")&&!n.tfClass("tl-storyslider")[0]?m.push(n):s(n)}m.length>0&&Promise.all([t.loadCss(l.script_path+"/css/timeline.min",null,"3.6.3"),t.loadJs(l.script_path+"/js/timeline.min",!!window.TL,"3.6.3")]).then((()=>{for(let t=m.length-1;t>-1;--t){const e=m[t].tfClass("storyjs-embed")[0];l.start_at_end=e.dataset.startEnd,l.embed_id=e.id,l.id="story-js-"+e.dataset.id;const i=new TL.Timeline(l.id,{events:JSON.parse(e.dataset.events)},l);s(m[t]),setTimeout((()=>{i.updateDisplay()}),1300)}}))}))})(Themify);