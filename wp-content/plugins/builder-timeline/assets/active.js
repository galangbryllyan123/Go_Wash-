((e,t)=>{"use strict";e.ModuleTimeline=class extends e.Module{constructor(e){super(e)}static getOptions(){const e={...ThemifyConstructor.getOptions("orderBy")},i=t.i18n.label,l=t.admin_url+"/post-new.php";return delete e.meta_value,[{id:"mod_title_timeline",type:"title"},{id:"template_timeline",type:"radio",label:"lay",options:[{value:"list",name:"tim_lstview"},{value:"graph",name:"tim_tlgrph"}],option_js:!0},{id:"start_at_end",type:"select",label:"tim_satend",options:{no:"no",yes:"y"},wrap_class:"tb_group_element_graph"},{id:"source_timeline",type:"radio",label:"disp",options:[{value:"post",name:"posts"},{value:"text",name:"text"}],option_js:!0},{type:"group",options:[{type:"query_posts",id:"post_type_timeline",term_id:"category_post_timeline",tax_id:"tax_timeline",query_filter:!0,description:i.addmore+' <a href="'+l+'" target="_blank">'+i.posts+"</a>"},{id:"post_per_page_post_timeline",type:"number",label:"npost",help:"nposth",default:4},{id:"offset_post_timeline",type:"number",label:"ofs",help:"ofsh"},{id:"order_post_timeline",type:"select",label:"order",help:"ohelp",order:!0},{id:"orderby_post_timeline",type:"select",label:"orderby",options:e},{id:"display_post_timeline",type:"select",label:"disp",options:{excerpt:"excerpt",content:"content",none:"none"}},{id:"hide_feat_img_post_timeline",type:"toggle_switch",label:"fimg",binding:{checked:{show:["image_size_post_timeline","img_width_post_timeline","img_height_post_timeline"]},not_checked:{hide:["image_size_post_timeline","img_width_post_timeline","img_height_post_timeline"]}}},{id:"img_width_post_timeline",type:"number",label:"imgw"},{id:"img_height_post_timeline",type:"number",label:"imgh"}],wrap_class:"tb_group_element_post"},{type:"group",options:[{id:"text_source_timeline",type:"builder",options:[{id:"title_timeline",type:"text",label:"title",class:"large",control:{selector:".module-timeline-title"}},{id:"link_timeline",type:"text",label:"l",class:"large"},{id:"icon_timeline",type:"icon",label:"icon",wrap_class:"tb_group_element_list"},{id:"iconcolor_timeline",type:"color",label:"tim_icbg",wrap_class:"tb_group_element_list"},{id:"icontextcolor_timeline",type:"color",label:"tim_icclr",wrap_class:"tb_group_element_list"},{id:"date_timeline",type:"text",label:"date",control:{selector:".module-timeline-date"}},{id:"image_timeline",type:"image",label:"image"},{id:"content_timeline",type:"wp_editor"}],wrap_class:"tb_group_element_text"}],wrap_class:"tb_group_element_text"},{type:"custom_css_id",custom_css:"add_css_timeline"}]}static getGroup(){return["addon"]}static default(){const e=t.i18n.label;return{source_timeline:"text",text_source_timeline:[{title_timeline:e.tim_tmltitle,content_timeline:e.tim_cnttitledef,date_timeline:e.tim_datetitledef,icon_timeline:"fas calendar-check"}]}}static builderSave(e){const t={tbpdq:"off",template_timeline:"list",source_timeline:"post",post_per_page_post_timeline:"4",hide_feat_img_post_timeline:"no",display_post_timeline:"excerpt",orderby_post_timeline:"date",order_post_timeline:"desc",category_post_timeline:"0|single",tax_timeline:"category",post_type_timeline:"post",start_at_end:"no"},i=e.template_timeline||"list",l=e.source_timeline||"post",_="text"===l?null:e.tbpdq||"off";let o=[];for(let i in t)e[i]===t[i]&&delete e[i];if("graph"!==i&&delete e.start_at_end,"text"===l){if("graph"===i){const t=e.text_source_timeline||[];for(let e=t.length-1;e>-1;--e){let i=t[e];delete i.icon_timeline,delete i.iconcolor_timeline,delete i.icontextcolor_timeline}}o=["tbpdq","category_post_timeline","tax_timeline","post_type_timeline","post_per_page_post_timeline","offset_post_timeline","order_post_timeline","orderby_post_timeline","display_post_timeline","hide_feat_img_post_timeline","query_cf_key","query_cf_value","query_date_from","query_date_to","query_authors"]}else"off"!==_&&(o=["post_type_timeline","tax_timeline","category_post_timeline","query_cf_key","query_cf_value","query_date_from","query_date_to","query_authors"]),delete e.text_source_timeline;for(let t=o.length-1;t>-1;--t)delete e[o[t]];"yes"!==e.hide_feat_img_post_timeline&&"text"!==l||(delete e.img_width_post_timeline,delete e.img_height_post_timeline),e.query_cf_key&&e.query_cf_value||delete e.query_cf_c,"sameauthor"!==_&&delete e.tbpdq_sameauthor_match_post_type,"no"!==e.tbpdq_sameauthor_match_post_type&&delete e.tbpdq_sameauthor_post_types,"acf"!==_&&delete e.tbpdq_acf_field,"ptbSearch"!==_&&delete e.tbpdq_ptbsearch_form,super.builderSave(e)}}})(tb_app,themifyBuilder);